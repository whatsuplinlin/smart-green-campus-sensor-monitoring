{"version":3,"file":"js/937.d6690df3.js","mappings":"mMACOA,MAAM,O,uEAAXC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJC,EAAAA,EAAAA,IAAqBC,I,UCDvBC,EAAAA,EAAAA,GAAkB,UAAd,aAAS,G,GACRC,MAAA,kB,GACKC,GAAG,cAAcC,IAAI,U,6DAF/BN,GACAG,EAAAA,EAAAA,GAEM,MAFNI,EAEM,EADJJ,EAAAA,EAAAA,GAA+C,SAA/CK,EAA+C,gB,2CAYnD,MAAMC,GAAQH,EAAAA,EAAAA,IAAII,EAAAA,GAElB,OACEC,KAAM,WACNC,UACE,IAAIC,EACAC,EAAM,GACNC,EAAO,GAEPC,EAAY,IAAIC,SAAQ,SAAUC,IACpCC,EAAAA,EAAAA,KAAIC,EAAAA,EAAAA,IAAMX,EAAQ,yBAAwBY,MAAMC,IAC9C,GAAIA,EAASC,SAAU,CAKrB,IAAK,IAAIC,KAHTX,EAAaS,EAASG,MAGNZ,EAAY,CAC1B,IAAIa,EAAMb,EAAWW,GACrB,IAAK,IAAIG,KAAQD,EACF,QAATC,GACFb,EAAIc,KAAKF,EAAIC,IAEF,SAATA,GACFZ,EAAKa,KAAKF,EAAIC,GAGpB,CACA,IAAIE,GAAO,EACX,MAAOA,EACDf,EAAIgB,OAAS,IACfhB,EAAIiB,QACJhB,EAAKgB,SAELF,GAAO,EAGXG,QAAQC,IAAInB,GACZkB,QAAQC,IAAIlB,GACZG,EAAQ,CAAEJ,IAAKA,EAAKC,KAAMA,GAC5B,IAEJ,IAEAC,EAAUK,MAAMa,IACdF,QAAQC,IAAI,QACZ,MAAME,EAAgB,CACpBC,KAAM,OACNC,KAAM,CACJC,OAAQJ,EAAMnB,KACdwB,SAAU,CACR,CACEC,MAAO,mBACPH,KAAMH,EAAMpB,IACZ2B,gBAAiB,uBACjBC,YAAa,UACbC,YAAa,MAKrBX,QAAQC,IAAIC,GACZF,QAAQC,IAAIE,GACZ,MAAMS,EAAMC,SAASC,eAAe,eACpC,IAAIC,EAAAA,GAAMH,EAAKT,EAAc,GAEjC,G,QCzEF,MAAMa,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFAA,GACErC,KAAM,eACNsC,WAAY,CACVC,SAAQA,IGPZ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://capstone_project/./src/views/LuxView.vue","webpack://capstone_project/./src/components/LuxChart.vue","webpack://capstone_project/./src/components/LuxChart.vue?917c","webpack://capstone_project/./src/views/LuxView.vue?5fb4"],"sourcesContent":["<template>\n  <div class=\"lux\">\n    <LuxChart></LuxChart>\n  </div>\n</template>\n\n<script>\nimport LuxChart from \"@/components/LuxChart.vue\";\n\nexport default {\n  name: \"LuxChartView\",\n  components: {\n    LuxChart,\n  },\n};\n</script>\n\n<style></style>\n","<template>\n  <h1>Lux Chart</h1>\n  <div style=\"width: 1200px\">\n    <canvas id=\"graphCanvas\" ref=\"domRef\"></canvas>\n  </div>\n</template>\n\n<script></script>\n\n<script>\nimport { Chart } from \"chart.js/auto\";\n//console.log(tempChartService.getChartData());\nimport { ref, child, get } from \"firebase/database\";\nimport firebaseApp from \"@/firebaseApp\";\n\nconst dbRef = ref(firebaseApp);\n\nexport default {\n  name: \"LuxChart\",\n  mounted() {\n    var valueArray;\n    var lux = [];\n    var time = [];\n\n    var myPromise = new Promise(function (resolve) {\n      get(child(dbRef, `/DB_Storage/TestRoom`)).then((snapshot) => {\n        if (snapshot.exists()) {\n          //    console.log(snapshot.val());\n          valueArray = snapshot.val();\n          //   console.log(valueArray);\n\n          for (var key in valueArray) {\n            var obj = valueArray[key];\n            for (var prop in obj) {\n              if (prop === \"lux\") {\n                lux.push(obj[prop]);\n              }\n              if (prop === \"time\") {\n                time.push(obj[prop]);\n              }\n            }\n          }\n          var flag = true;\n          while (flag) {\n            if (lux.length > 36) {\n              lux.shift();\n              time.shift();\n            } else {\n              flag = false;\n            }\n          }\n          console.log(lux);\n          console.log(time);\n          resolve({ lux: lux, time: time });\n        }\n      });\n    });\n\n    myPromise.then((value) => {\n      console.log(\"eiei\");\n      const tempChartData = {\n        type: \"line\",\n        data: {\n          labels: value.time,\n          datasets: [\n            {\n              label: \"lux in test room\",\n              data: value.lux,\n              backgroundColor: \"rgba(71, 183,132,.5)\",\n              borderColor: \"#47b784\",\n              borderWidth: 3,\n            },\n          ],\n        },\n      };\n      console.log(value);\n      console.log(tempChartData);\n      const ctx = document.getElementById(\"graphCanvas\");\n      new Chart(ctx, tempChartData);\n    });\n  },\n};\n</script>\n\n<style>\n#graphCanvas {\n  position: absolute;\n  margin: auto;\n}\n</style>\n","import { render } from \"./LuxChart.vue?vue&type=template&id=f4f42af6\"\nimport script from \"./LuxChart.vue?vue&type=script&lang=js\"\nexport * from \"./LuxChart.vue?vue&type=script&lang=js\"\n\nimport \"./LuxChart.vue?vue&type=style&index=0&id=f4f42af6&lang=css\"\n\nimport exportComponent from \"/Users/jeongmin/Desktop/HBNU/Sensor-monitoring/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LuxView.vue?vue&type=template&id=60dd0e9a\"\nimport script from \"./LuxView.vue?vue&type=script&lang=js\"\nexport * from \"./LuxView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/jeongmin/Desktop/HBNU/Sensor-monitoring/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_LuxChart","_createElementVNode","style","id","ref","_hoisted_2","_hoisted_3","dbRef","firebaseApp","name","mounted","valueArray","lux","time","myPromise","Promise","resolve","get","child","then","snapshot","exists","key","val","obj","prop","push","flag","length","shift","console","log","value","tempChartData","type","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","ctx","document","getElementById","Chart","__exports__","components","LuxChart","render"],"sourceRoot":""}